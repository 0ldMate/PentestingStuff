# script used to unencode JWE from base64

require 'base64'

puts "Input JWT"
signature = STDIN.gets.chomp()

header, encryptedcek, enc_data, authtag = signature.split('.')

#decoded_header = Base64.decode64(header)
#puts decoded_header
#
#decoded_payload = Base64.decode64(payload)
#puts decoded_payload

puts "header"
puts header
puts "enc_cek"
puts enc_cek
puts "enc_data"
puts enc_data
puts "authtag"
puts authtag

puts "decoded_header"
decoded_header = Base64.decode64(header)
puts decoded_header
puts "decoded_enc_cek"
decoded_enc_cek = Base64.decode64(enc_cek)
puts decoded_enc_cek
puts "decoded_enc_data"
decoded_enc_data = Base64.decode64(enc_data)
puts decoded_enc_data
puts "decoded_authtag"
decoded_authtag = Base64.decode64(authtag)
puts decoded_authtag
